<body>
    <nav class="navbar" style="display: flex;justify-content: space-around;">
        <form class="d-flex" >
          <input [(ngModel)]="search" name="search" class="form-control me-2" type="text" placeholder="Search" aria-label="Search">
          <a  class="boton esmeralda" type="button">Search</a>
        </form>
        <h2 class="ms-3">{{enterprise}}</h2>
        <a class="btn" data-bs-target="#exampleModal" data-bs-toggle="modal"
        >
          <img src="../../../assets/img/add Sucursal.png"
            style="width: 110px;">
        </a>
    </nav>
      
    <div class="pos">
      <table style="width: 73%;">
          <thead>
            <tr>
              <th>No</th>
              <th>Name</th>
              <th>Address</th>
              <th>BusinessHours</th>
              <th>Phone</th>
              <th>Opciones</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let branchOffice of branchOffices | search:search , let i=index">
              <td>{{i+1}}</td>
              <td><a [routerLink]="'/branchOffice/productsBranchOffice/'+ branchOffice._id" class="btn text-light" type="submit">{{branchOffice.name}}</a></td>
              <td>{{branchOffice.address}}</td>
              <td>{{branchOffice.businessHours}}</td>
              <td>{{branchOffice.phone}}</td>
              <td>
                  <a (click)="getBranchOffice(branchOffice._id)" class="boton amethyst mt-2 me-2" data-bs-toggle="offcanvas" data-bs-target="#offcanvas"
                  aria-controls="offcanvas" type="submit">Update</a>
                  <a (click)="deleteBranchOffice(branchOffice._id)" class="boton azul mt-2 ms-2 me-3" type="submit">Delete</a>
              </td>
            </tr>
          </tbody>
      </table>
    </div>

    <div class="modal" tabindex="-1" id="exampleModal" data-bs-backdrop="false" position="fixed" >
      <div class="modal-dialog">
        <div class="modal-content" style="background-color: #F5F6F7;">
          <div class="modal-header">
            <h3 class="modal-title">Create branchOffice</h3>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form (ngSubmit)="createBranchOffice(createBranchForm)" #createBranchForm="ngForm">
              <div class="form-group mb-3">
                <label  class="form-label ">Name</label>
                <input [(ngModel)]="branchOffice.name" name="name" type="text" autofocus="" class="form-control rounded-pill border-0 shadow-sm px-4">
              </div>
              <div class="form-group mb-3">
                <label  class="form-label">Address</label>
                <input [(ngModel)]="branchOffice.address" name="address"  type="text"  required="" class="form-control rounded-pill border-0 shadow-sm px-4 ">
              </div>
              <div class="form-group mb-3">
                <label  class="form-label">BusinessHours</label>
                <input [(ngModel)]="branchOffice.businessHours" name="businessHours"  type="text"  required="" class="form-control rounded-pill border-0 shadow-sm px-4 ">
              </div>
              <div class="form-group mb-3">
                <label  class="form-label">Phone</label>
                <input [(ngModel)]="branchOffice.phone" name="phone"  type="number"  required="" class="form-control rounded-pill border-0 shadow-sm px-4 ">
              </div>
              
          <div class="modal-footer"> 
            <button data-bs-dismiss="modal" type="submit" class="boton esmeralda me-5 text" >Create</button>
            <a type="button" class="boton gris ms-2" data-bs-dismiss="modal">Close</a>
          </div>
          </form>
          </div>
        </div>
      </div>
    </div>

    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvas" aria-labelledby="offcanvasLabel" style="background-color: #F5F6F7;">
      <div class="offcanvas-header">
        <h2 class="offcanvas-title" id="offcanvasLabel">Update BranchOffice</h2>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <form #updateForm="ngForm" (ngSubmit)="updateBranchOffice()" *ngIf="branchOfficeUpdate">
          <div class="form-group mb-3">
            <label  class="form-label ">Name</label>
            <input [(ngModel)]="branchOfficeUpdate.name" name="name" id="inputEmail" type="text"  required="" autofocus="" class="form-control rounded-pill border-0 shadow-sm px-4">
          </div> 
          <div class="form-group mb-3">
            <label  class="form-label">Address</label>
            <input [(ngModel)]="branchOfficeUpdate.address" name="address" id="inputPassword" type="text"  required="" class="form-control rounded-pill border-0 shadow-sm px-4 ">
          </div>
          <div class="form-group mb-3">
            <label  class="form-label">BusinessHours</label>
            <input [(ngModel)]="branchOfficeUpdate.businessHours" name="businessHours" id="inputPassword" type="text"  required="" class="form-control rounded-pill border-0 shadow-sm px-4 ">
          </div>
          <div class="form-group mb-3">
            <label  class="form-label">Phone</label>
            <input [(ngModel)]="branchOfficeUpdate.phone" name="phone" id="inputPassword" type="number"  required="" class="form-control rounded-pill border-0 shadow-sm px-4 ">
          </div>
          <div class="text-center">
          <button (click)="updateBranchOffice()" type="submit" class="boton celeste me-5" data-bs-dismiss="offcanvas">Update</button>
          <a type="button" class="boton gris ms-2" data-bs-dismiss="offcanvas">Close</a>
        </div>
      </form> 
      </div>
    </div>
    </body>

